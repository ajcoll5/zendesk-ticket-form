var ticketErrors=function(a,b,c,d){function f(a){return!a||!a.trim()}function g(a){return!a.match(e)}function h(a){return"blank"+a[0].toUpperCase()+a.slice(1)}function i(a,b){return{name:a,message:b[h(a)]}}function j(a){return{name:"requester",message:a.invalidRequester}}function k(a,b,c){var d;for(var e in b)f(b[e])?(d=i(e,c),a.errors.push(d)):"requester"===e&&g(b[e])&&(d=j(c),a.errors.push(d))}function l(a){return{validate:function(b){var c={valid:!1,errors:[]};return k(c,b,a),c.errors.length||(c.valid=!0),c}}}function m(a){if(!a)throw new Error("You must provide a 'messages' object argument to #new");if(!a.blankName)throw new Error("You must provide a 'blankName' property to the 'messages' object");if(!a.blankRequester)throw new Error("You must provide a 'blankRequester' property to the 'messages' object");if(!a.invalidRequester)throw new Error("You must provide a 'invalidRequester' property to the 'messages' object");if(!a.blankSubject)throw new Error("You must provide a 'blankSubject' property to the 'messages' object");if(!a.blankDescription)throw new Error("You must provide a 'blankDescription' property to the 'messages' object")}var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return{new:function(a){return m(a),l(a)}}}(jQuery,window,document),ticketAPI=function(a,b,c,d){function e(a){return Object.keys(a).map(function(b){return"z_"+encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}function f(b,c){function f(a){var b=JSON.parse(a);b.ticket?d.handleSuccess(b.ticket):b.errors?d.handleErrors(b.errors):d.handleFailure()}function g(c){a.ajax({url:b,type:"POST",data:e(c),success:f,error:d.handleFailure})}var d={handleSuccess:function(a){},handleErrors:function(a){},handleFailure:function(a){}};return{setCallbacks:function(a){for(var b in a)d[b]=a[b]},submit:function(a){var b=c.validate(a);b.valid?g(a,d):d.handleErrors(b.errors)}}}function g(a,b){if(!a||!b)throw new Error("You must provide a 'url' object and an 'errorHandler' object to #new");if(!b.validate)throw new Error("Your 'errorHandler' object does not have a #validate method")}return{new:function(a,b){return g(a,b),f(a,b)}}}(jQuery,window,document),ticketForm=function(a,b,c,d){function e(b,c){function k(){return{name:f.val(),requester:g.val(),subject:h.val(),description:i.val()}}var d,e=a(b.form),f=e.find(b.name),g=e.find(b.requester),h=e.find(b.subject),i=e.find(b.description),j={};return d={init:function(){e.submit(function(a){a.preventDefault(),a.stopPropagation(),c.setCallbacks(j),c.submit(k())})},elements:{form:e,name:f,requester:g,subject:h,description:i},setCallback:function(a,b){return j[a]=b.bind(d.elements),d}}}function f(a,b){if(!a||!b)throw new Error("You must provide a 'selectors' object and an 'api' object to #new");if(!(a.form&&a.name&&a.requester&&a.subject&&a.description)){var c="'form', 'name', 'requester', 'subject', and 'description'";throw new Error("You must provide "+c+" properties on the 'selectors' object")}if(!b.submit)throw new Error("Your 'api' object does not have a #submit method")}return{new:function(a,b){return f(a,b),e(a,b)}}}(jQuery,window,document);
